{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","History","List"],"mappings":"yWAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAyDMC,EAlDGC,aAAS,WAAO,IACzBC,EAAgBC,cAAhBD,aAYP,OAPAE,qBAAU,WAER,OADAC,QAAQC,IAAI,4BACL,WACLJ,EAAaK,WAEd,IAGD,6BACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAhBW,WACfR,EAAaS,QAgBTC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,GAEX,kBAAC,IAAD,CAAMC,WAAYb,EAAac,KAAMC,WAAa,SAAAC,GAAI,OACpD,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACnB,6BACE,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE3C,6BACE,4BAAKN,EAAKK,WAAWE,WAEvB,6BACE,uBAAGC,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KACrDN,EAAKK,WAAWC,IAAID,WAAWC,SAMrCtB,EAAaW,WAAaX,EAAaU,SAEtC,6BACE,kBAAC,IAAD,CAAMgB,IAAI,8BCzCTC,UATf,WACE,OACE,oCACE,uCACA,kBAACC,EAAD","file":"static/js/9.6d66052b.chunk.js","sourcesContent":["import React, {useEffect} from 'react'\nimport {observer} from 'mobx-react'\nimport {useStores} from '../stores'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport {List, Spin} from 'antd'\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n   height:100px;\n   width:120px;\n   object-fit: contain;\n   border: 1px solid #eee;   \n`\n\nconst Component = observer(() => {\n  const {HistoryStore} = useStores()\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n\n  useEffect(() => {\n    console.log('进入组件')\n    return () => {\n      HistoryStore.reset()\n    }\n  }, [])\n\n  return (\n    <div>\n      <InfiniteScroll\n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List dataSource={HistoryStore.list} renderItem={ item =>\n          <List.Item key={item.id}>\n            <div>\n              <Img src={item.attributes.url.attributes.url}/>\n            </div>\n            <div>\n              <h5>{item.attributes.filename}</h5>\n            </div>\n            <div>\n              <a target=\"_blank\" href={item.attributes.url.attributes.url}>\n                {item.attributes.url.attributes.url}\n              </a>\n            </div>\n          </List.Item>\n        }\n        >\n          {HistoryStore.isLoading && HistoryStore.hasMore &&\n          (\n            <div>\n              <Spin tip=\"加载中\"/>\n            </div>\n          )}\n        </List>\n      </InfiniteScroll>\n    </div>\n  )\n})\n\nexport default Component","import React from 'react';\nimport List from '../components/List'\n\n\n\nfunction History() {\n  return (\n    <>\n      <h1>History</h1>\n      <List/>\n    </>\n  )\n}\n\nexport default History;"],"sourceRoot":""}